(function(){var w={},n={},p={},u={},x={},y=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return function(d,c){function e(){this.constructor=d}a(d,c);d.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)}}(),v=this&&this.__generator||function(a,d){function c(b){return function(a){return e([b,a])}}function e(g){if(m)throw new TypeError("Generator is already executing.");
for(;b;)try{if(m=1,k&&(f=k[g[0]&2?"return":g[0]?"throw":"next"])&&!(f=f.call(k,g[1])).done)return f;if(k=0,f)g=[0,f.value];switch(g[0]){case 0:case 1:f=g;break;case 4:return b.label++,{value:g[1],done:!1};case 5:b.label++;k=g[1];g=[0];continue;case 7:g=b.ops.pop();b.trys.pop();continue;default:if(!(f=b.trys,f=0<f.length&&f[f.length-1])&&(6===g[0]||2===g[0])){b=0;continue}if(3===g[0]&&(!f||g[1]>f[0]&&g[1]<f[3]))b.label=g[1];else if(6===g[0]&&b.label<f[1])b.label=f[1],f=g;else if(f&&b.label<f[2])b.label=
f[2],b.ops.push(g);else{f[2]&&b.ops.pop();b.trys.pop();continue}}g=d.call(a,b)}catch(e){g=[6,e],k=0}finally{m=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}var b={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},m,k,f,h;return h={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},w=function(a){Object.defineProperty(a,"__esModule",{value:!0});var d=function(a){function e(b,e,d,f){b=a.call(this,
b)||this;b.line=e;b.col=d;b.offset=f.offset;b.input=f.input;return b}y(e,a);return e}(Error);a.ParseError=d;return a}(w),n=function(a,d){function c(b){var a=Math.max(0,b.offset-10),e=Math.min(b.input.length,b.offset+10),e=JSON.stringify((0===a?"":"...")+b.input.slice(a,e)+(e===b.input.length?"":"..."));b=(0===a?0:3)+JSON.stringify(b.input.slice(a,b.offset)).length-1;b=Array(b+1).join(" ")+"^";return"-> "+e+"\n   "+b}Object.defineProperty(a,"__esModule",{value:!0});var e=function(b){function a(e,m,
h,g){e=b.call(this,"Parse failure at "+m+":"+h+": "+e+"\n"+c(g),m,h,g)||this;e.line=m;e.col=h;e.offset=g.offset;e.input=g.input;return e}y(a,b);return a}(d.ParseError);a.ParseErrorDetail=e;a.resultSuccess=function(a,e,c){return{value:a,state:{input:e,offset:c}}};a.formatState=c;a.resultFailure=function(a,e,c){for(var d=0,h=0,g=0;g<e.offset;++g)"\n"===e.input[g]&&(d++,h=g+1);return new c(a,1+d,1+e.offset-h,e)};return a}(n,w),p=function(a,d){function c(a,b){return a({input:b,offset:0}).value}Object.defineProperty(a,
"__esModule",{value:!0});a.regex=function(a){return function(b){var c=b.input.slice(b.offset),c=(new RegExp(a)).exec(c);if(null===c||0!==c.index)throw d.resultFailure("regex /"+a.source+"/"+a.flags+" doesn't match",b,d.ParseErrorDetail);return d.resultSuccess(c[0],b.input,b.offset+c[0].length)}};a.regexMatch=function(a){return function(b){var c=b.input.slice(b.offset),c=(new RegExp(a)).exec(c);if(null===c||0!==c.index)throw d.resultFailure("regex /"+a.source+"/"+a.flags+" doesn't match",b,d.ParseErrorDetail);
return d.resultSuccess(Array.from(c),b.input,b.offset+c[0].length)}};a.str=function(a){return function(b){if(b.input.substr(b.offset,a.length)===a)return d.resultSuccess(a,b.input,b.offset+a.length);throw d.resultFailure('"'+a+'" not found',b,d.ParseErrorDetail);}};a.fromGenerator=function(a){return function(b){for(var c=void 0,k=a();;){c=k.next(c);if(c.done)return d.resultSuccess(c.value,b.input,b.offset);c=c.value;b=c(b);c=b.value;b=b.state}}};a.fail=function(a){return function(b){throw d.resultFailure(a,
b,d.ParseErrorDetail);}};a.wrapFail=function(a,b){return function(c){try{return a(c)}catch(d){throw c=d.message.indexOf(": ")+2,d.message=d.message.slice(0,c)+b(d.message.slice(c)),d;}}};a.debugTrace=function(a){return function(b){a(d.formatState(b));return d.resultSuccess(void 0,b.input,b.offset)}};a.end=function(a){if(a.offset>=a.input.length)return d.resultSuccess(null,a.input,a.offset);throw d.resultFailure("Not at end of string",a,d.ParseErrorDetail);};a.run=c;a.runToEnd=function(d,b){return c(function(b){b=
d(b);a.end(b.state);return b},b)};return a}(p,n),u=function(a,d,c,e){function b(a){return function(b){try{return a(b)}catch(d){return c.resultSuccess(null,b.input,b.offset)}}}function m(a){return function(b){for(var d=[];;){try{var e=a(b)}catch(f){return c.resultSuccess(d,b.input,b.offset)}d.push(e.value);b=e.state}}}function k(a){return function(b){for(var e=[],f=0;f<a.length;++f)try{return a[f](b)}catch(z){e.push(z.message)}throw c.resultFailure("Parse failure; potential matches:\n- "+e.join("\n- "),
b,d.ParseError);}}function f(a){return function(b){for(var d=b.offset;d<=b.input.length;++d)try{return a({input:b.input,offset:d}),c.resultSuccess(b.input.slice(b.offset,d),b.input,d)}catch(e){}throw c.resultFailure("Didn't find terminator",b,c.ParseErrorDetail);}}Object.defineProperty(a,"__esModule",{value:!0});a.maybe=b;a.many=m;a.many1=function(a){return e.fromGenerator(function(){var b,c;return v(this,function(d){switch(d.label){case 0:return[4,a];case 1:return b=d.sent(),[4,m(a)];case 2:return c=
d.sent(),[2,[b].concat(c)]}})})};a.choice=k;a.sequence=function(a){return e.fromGenerator(function(){var b,c,d,e;return v(this,function(f){switch(f.label){case 0:b=[],c=0,f.label=1;case 1:if(!(c<a.length))return[3,4];e=(d=b).push;return[4,a[c]];case 2:e.apply(d,[f.sent()]),f.label=3;case 3:return++c,[3,1];case 4:return[2,b]}})})};a.count=function(a,b){return e.fromGenerator(function(){var c,d,e,f;return v(this,function(q){switch(q.label){case 0:c=[],d=0,q.label=1;case 1:if(!(d<a))return[3,4];f=(e=
c).push;return[4,b];case 2:f.apply(e,[q.sent()]),q.label=3;case 3:return++d,[3,1];case 4:return[2,c]}})})};a.sepBy1=function(a,c){var d=b(a);return e.fromGenerator(function(){var a,b,e,f;return v(this,function(h){switch(h.label){case 0:a=[],h.label=1;case 1:return e=(b=a).push,[4,c];case 2:return e.apply(b,[h.sent()]),[4,d];case 3:return f=h.sent(),null===f?[2,a]:[3,1];case 4:return[2]}})})};a.sepBy=function(a,c){var d=b(a),f=b(c);return e.fromGenerator(function(){var a,b,e,h,k;return v(this,function(l){switch(l.label){case 0:return a=
[],[4,f];case 1:b=l.sent();if(null===b)return[2,a];a.push(b);l.label=2;case 2:return[4,d];case 3:e=l.sent();if(null===e)return[2,a];k=(h=a).push;return[4,c];case 4:return k.apply(h,[l.sent()]),[3,2];case 5:return[2]}})})};a.peek=function(a){return function(b){var d=a(b);return c.resultSuccess(d.value,b.input,b.offset)}};a.until=f;a.between=function(a,b){return e.fromGenerator(function(){var c;return v(this,function(d){switch(d.label){case 0:return[4,a];case 1:return d.sent(),[4,f(b)];case 2:return c=
d.sent(),[4,b];case 3:return d.sent(),[2,c]}})})};a.map=function(a,b){return function(c){c=a(c);return{state:c.state,value:b(c.value)}}};a.surround=function(a,b,c){return e.fromGenerator(function(){var d;return v(this,function(e){switch(e.label){case 0:return[4,a];case 1:return e.sent(),[4,b];case 2:return d=e.sent(),[4,c];case 3:return e.sent(),[2,d]}})})};a.buildExpressionParser=function(a,c){function d(a){return e.fromGenerator(function(){var c,e,f,g,h,k,m,l;return v(this,function(r){switch(r.label){case 0:return[4,
u];case 1:c=r.sent(),r.label=2;case 2:e=null,h=0,r.label=3;case 3:if(!(h<q.length&&null===e))return[3,6];k=q[h];return k.precedence>=a?[4,b(k.parser)]:[3,5];case 4:e=r.sent(),f=k.associativity,g=k.precedence,r.label=5;case 5:return++h,[3,3];case 6:if(null===e)return[2,c];m="left"===f?g+1:g;return[4,d(m)];case 7:return l=r.sent(),c=e(c,l),[3,2];case 8:return[2]}})})}for(var f=null,m=[],w=[],q=[],n=0;n<a.length;++n){var p=a.length-n,l=a[n];switch(l.fixity){case "infix":q.push({precedence:p,associativity:l.associativity,
parser:l.parser});break;case "postfix":w.push(l.parser);break;case "prefix":m.push(l.parser)}}var u=e.fromGenerator(function(){var a,d,e,h,l,n,q,p,u,r;return v(this,function(t){switch(t.label){case 0:a=[],d=[],e=null,t.label=1;case 1:return[4,b(k(m))];case 2:e=t.sent(),null!==e&&a.push(e),t.label=3;case 3:if(null!==e)return[3,1];t.label=4;case 4:return null===f&&(f=c()),[4,f];case 5:h=t.sent(),t.label=6;case 6:return[4,b(k(w))];case 7:e=t.sent(),null!==e&&d.push(e),t.label=8;case 8:if(null!==e)return[3,
6];t.label=9;case 9:l=0;for(n=a;l<n.length;l++)q=n[l],h=q(h);p=0;for(u=d;p<u.length;p++)r=u[p],h=r(h);return[2,h]}})});return d(0)};return a}(u,w,n,p),x=function(a,d,c,e){Object.defineProperty(a,"__esModule",{value:!0});a.VERSION="1.0.0";a.str=d.str;a.regex=d.regex;a.regexMatch=d.regexMatch;a.end=d.end;a.fail=d.fail;a.wrapFail=d.wrapFail;a.debugTrace=d.debugTrace;a.run=d.run;a.runToEnd=d.runToEnd;a.fromGenerator=d.fromGenerator;a.maybe=c.maybe;a.many=c.many;a.many1=c.many1;a.choice=c.choice;a.sequence=
c.sequence;a.count=c.count;a.sepBy=c.sepBy;a.sepBy1=c.sepBy1;a.peek=c.peek;a.until=c.until;a.between=c.between;a.map=c.map;a.surround=c.surround;a.buildExpressionParser=c.buildExpressionParser;a.ParseError=e.ParseError;return a}(x,p,u,w);window.Parsinator=x})();
